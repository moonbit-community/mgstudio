// Code generated by `mgstudio gen`. DO NOT EDIT.

///|
pub struct World {
  entities : @core.Entities
  mut change_tick : @core.Tick
  mut system_context : @core.SystemContext
  transform : @core.ComponentStore[@math.Transform]
  camera : @core.ComponentStore[@render2d.Camera]
  mesh2d : @core.ComponentStore[@render2d.Mesh2d]
  sprite : @core.ComponentStore[@render2d.Sprite]
  parent : @core.ComponentStore[@hierarchy.Parent]
  camera2d : @core.ComponentStore[@render2d.Camera2d]
  texture_atlas : @core.ComponentStore[@asset.TextureAtlas]
  children : @core.ComponentStore[@hierarchy.Children]
  gpu_mesh2d : @core.ComponentStore[@render2d.GpuMesh2d]
  projection : @core.ComponentStore[@render2d.Projection]
  render_layers : @core.ComponentStore[@render2d.RenderLayers]
  render_target : @core.ComponentStore[@render2d.RenderTarget]
  visibility : @core.ComponentStore[@visibility.Visibility]
  color_material : @core.ComponentStore[@render2d.ColorMaterial]
  sprite_texture : @core.ComponentStore[@render2d.SpriteTexture]
  global_transform : @core.ComponentStore[@transform.GlobalTransform]
  view_visibility : @core.ComponentStore[@visibility.ViewVisibility]
  inherited_visibility : @core.ComponentStore[@visibility.InheritedVisibility]
  res_render_state : @core.Resource[@render2d.RenderState]
}

///|
pub fn World::new() -> World {
  World::{
    entities: @core.Entities::new(),
    change_tick: 0,
    system_context: @core.SystemContext::new(),
    transform: @core.ComponentStore::new(),
    camera: @core.ComponentStore::new(),
    mesh2d: @core.ComponentStore::new(),
    sprite: @core.ComponentStore::new(),
    parent: @core.ComponentStore::new(),
    camera2d: @core.ComponentStore::new(),
    texture_atlas: @core.ComponentStore::new(),
    children: @core.ComponentStore::new(),
    gpu_mesh2d: @core.ComponentStore::new(),
    projection: @core.ComponentStore::new(),
    render_layers: @core.ComponentStore::new(),
    render_target: @core.ComponentStore::new(),
    visibility: @core.ComponentStore::new(),
    color_material: @core.ComponentStore::new(),
    sprite_texture: @core.ComponentStore::new(),
    global_transform: @core.ComponentStore::new(),
    view_visibility: @core.ComponentStore::new(),
    inherited_visibility: @core.ComponentStore::new(),
    res_render_state: @core.Resource::new(),
  }
}

///|
pub fn World::spawn_empty(self : World) -> @core.Entity {
  self.entities.spawn()
}

///|
pub fn World::despawn(
  self : World,
  entity : @core.Entity,
) -> Unit raise @core.EntityError {
  self.entities.despawn(entity)
  self.transform.remove(entity) |> ignore
  self.camera.remove(entity) |> ignore
  self.mesh2d.remove(entity) |> ignore
  self.sprite.remove(entity) |> ignore
  self.parent.remove(entity) |> ignore
  self.camera2d.remove(entity) |> ignore
  self.texture_atlas.remove(entity) |> ignore
  self.children.remove(entity) |> ignore
  self.gpu_mesh2d.remove(entity) |> ignore
  self.projection.remove(entity) |> ignore
  self.render_layers.remove(entity) |> ignore
  self.render_target.remove(entity) |> ignore
  self.visibility.remove(entity) |> ignore
  self.color_material.remove(entity) |> ignore
  self.sprite_texture.remove(entity) |> ignore
  self.global_transform.remove(entity) |> ignore
  self.view_visibility.remove(entity) |> ignore
  self.inherited_visibility.remove(entity) |> ignore
}

///|
pub impl @core.SpawnWorld for World with spawn_empty(self) {
  self.entities.spawn()
}

///|
pub impl @core.SpawnWorld for World with despawn(self, entity) {
  self.entities.despawn(entity)
  self.transform.remove(entity) |> ignore
  self.camera.remove(entity) |> ignore
  self.mesh2d.remove(entity) |> ignore
  self.sprite.remove(entity) |> ignore
  self.parent.remove(entity) |> ignore
  self.camera2d.remove(entity) |> ignore
  self.texture_atlas.remove(entity) |> ignore
  self.children.remove(entity) |> ignore
  self.gpu_mesh2d.remove(entity) |> ignore
  self.projection.remove(entity) |> ignore
  self.render_layers.remove(entity) |> ignore
  self.render_target.remove(entity) |> ignore
  self.visibility.remove(entity) |> ignore
  self.color_material.remove(entity) |> ignore
  self.sprite_texture.remove(entity) |> ignore
  self.global_transform.remove(entity) |> ignore
  self.view_visibility.remove(entity) |> ignore
  self.inherited_visibility.remove(entity) |> ignore
}

///|
pub impl @core.ChangeTickWorld for World with read_change_tick(self) {
  self.change_tick
}

///|
pub impl @core.ChangeTickWorld for World with increment_change_tick(self) {
  self.change_tick = self.change_tick + 1
  self.change_tick
}

///|
pub impl @core.SystemContextWorld for World with get_system_context(self) {
  self.system_context
}

///|
pub impl @core.SystemContextWorld for World with set_system_context(self, ctx) {
  self.system_context = ctx
}

///|
pub impl @math.Has_Transform for World with get_transform_store(self) {
  self.transform
}

///|
pub impl @render2d.Has_Camera for World with get_camera_store(self) {
  self.camera
}

///|
pub impl @render2d.Has_Mesh2d for World with get_mesh2d_store(self) {
  self.mesh2d
}

///|
pub impl @render2d.Has_Sprite for World with get_sprite_store(self) {
  self.sprite
}

///|
pub impl @hierarchy.Has_Parent for World with get_parent_store(self) {
  self.parent
}

///|
pub impl @render2d.Has_Camera2d for World with get_camera2d_store(self) {
  self.camera2d
}

///|
pub impl @asset.Has_TextureAtlas for World with get_texture_atlas_store(self) {
  self.texture_atlas
}

///|
pub impl @hierarchy.Has_Children for World with get_children_store(self) {
  self.children
}

///|
pub impl @render2d.Has_GpuMesh2d for World with get_gpu_mesh2d_store(self) {
  self.gpu_mesh2d
}

///|
pub impl @render2d.Has_Projection for World with get_projection_store(self) {
  self.projection
}

///|
pub impl @render2d.Has_RenderLayers for World with get_render_layers_store(self) {
  self.render_layers
}

///|
pub impl @render2d.Has_RenderTarget for World with get_render_target_store(self) {
  self.render_target
}

///|
pub impl @visibility.Has_Visibility for World with get_visibility_store(self) {
  self.visibility
}

///|
pub impl @render2d.Has_ColorMaterial for World with get_color_material_store(
  self,
) {
  self.color_material
}

///|
pub impl @render2d.Has_SpriteTexture for World with get_sprite_texture_store(
  self,
) {
  self.sprite_texture
}

///|
pub impl @transform.Has_GlobalTransform for World with get_global_transform_store(
  self,
) {
  self.global_transform
}

///|
pub impl @visibility.Has_ViewVisibility for World with get_view_visibility_store(
  self,
) {
  self.view_visibility
}

///|
pub impl @visibility.Has_InheritedVisibility for World with get_inherited_visibility_store(
  self,
) {
  self.inherited_visibility
}

///|
pub impl @render2d.HasRes_RenderState for World with get_render_state_resource(
  self,
) {
  self.res_render_state
}
